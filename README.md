## Messages

All messages passed between client and server are JSON-formatted objects.
they are distinguished by a `type` attribute.

1. `need-auth`
    * `need-auth` is sent from the server on connection if the board is passphrase-protected
    and the user will need to provide the passphrase before being allowed to get the
    board's state, get a path ID, and start sending path information.  The client
    should response with an `auth` message.
    * Example: `{ "type": "need-auth" }`
2. `auth`
    * `auth` is sent by the client in response to a `need-auth` message. If the authorization
    request is accepted, the client will receive a `cur-state` message followed by
    a `path-id` message.  If the authorization request is rejected, the server will
    send another `auth` message.
    * Example: `{ "type": "auth", "passphrase": "The Passphrase" }`
3. `cur-state`
    * provides the client with the initial state of the board. Will be the initial
    communication from the server on connect, unless the board is passphrase-protected.
    * Example: `{ "type": "cur-state", "paths": [ <path object>[, ...] ] }`
    * Path Object: `{ "id": "<id>" "data": "M1,1L20,10<...>", "style": "<style information>" }`
    * Style Information: `?????` _NOTE: Style Information is not currently provided._
4. `path-id`
    * `path-id` from the server provides the client with the ID of a path that can be drawn on.
    A client must not draw on any other path than the currently assigned path.
    To get a new path, the client may send a `fin-path` message.
    * Example: `{ type: "path-id", id: "ef7d3bff-c375-0ac7<...>" }`
5. `fin-path`
    * `fin-path` is sent by the client to indicate that it is done with the current
    path and needs a new path ID from the server. A client should avoid sending
    more data to the old path while waiting for the new path, and must start using
    the new path ID once it has been received.
    * Example: `{ "type": "fin-path" }`
6. `add-path`
    * `add-path` indicates that the path with the given ID must be appended with
    the data provided.  This is generated by clients due to user draw actions and
    sent to the server to be distributed to all other connected clients. The client
    MIGHT receive its own messages back once sent, so care should be taken to filter
    one's own message from the stream. It is the client's discretion how often to
    send updates, but they should be sent fairly often (preferably > 1/second)
    to provide close-to-real-time sync on other clients.  The client MUST send messages
    in order, as SVG paths depend on the correct order for rendering.
    * Example: `{ "type": "add-path", "id": "ef7d3bff-c375-0ac7[...]", "data": "L100,100 L105,95" }`
    * _NOTE: may need to add sequence if message sequence cannot be guaranteed through
    the server to other clients_
7. `set-style`
8. `user-name`
9. `change-name`
